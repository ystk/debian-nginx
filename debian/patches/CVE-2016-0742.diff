--- nginx-0.7.67.orig/src/core/ngx_resolver.c
+++ nginx-0.7.67/src/core/ngx_resolver.c
@@ -1000,7 +1000,7 @@ ngx_resolver_process_response(ngx_resolv
         times = 0;
 
         for (q = ngx_queue_head(&r->name_resend_queue);
-             q != ngx_queue_sentinel(&r->name_resend_queue) || times++ < 100;
+             q != ngx_queue_sentinel(&r->name_resend_queue) && times++ < 100;
              q = ngx_queue_next(q))
         {
             rn = ngx_queue_data(q, ngx_resolver_node_t, queue);
